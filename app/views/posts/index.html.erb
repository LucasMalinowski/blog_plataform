<div class="container mx-auto px-4 py-8" data-controller="posts">
  <h1 class="text-3xl font-bold mb-6">Posts</h1>

  <button data-action="click->posts#toggleForm" class="bg-green-500 text-white px-4 py-2 rounded-full mb-4 hover:bg-green-600">
    New Post
  </button>

  <div id="new_post" data-posts-target="postForm" class="hidden mb-6 bg-white p-6 rounded-lg shadow-lg relative">
    <button data-action="click->posts#toggleForm" class="absolute top-2 right-2 text-gray-500 hover:text-gray-700">
      <i class="fas fa-times"></i>
    </button>

    <%= form_with(model: Post.new, local: false) do |form| %>
      <div class="mb-4">
        <%= form.text_field :title, placeholder: "What's happening?", class: "mt-1 block w-full p-2 border rounded-full focus:outline-none focus:ring-2 focus:ring-blue-500" %>
      </div>
      <div class="mb-4">
        <%= form.text_area :body, placeholder: "Enter your thoughts...", rows: 3, class: "mt-1 block w-full p-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500" %>
      </div>
      <%= form.submit 'Create Post', class: "bg-blue-500 text-white px-4 py-2 rounded-full hover:bg-blue-600" %>
    <% end %>
  </div>

  <div id="posts" class="space-y-6">
    <%= render @posts %>
  </div>
</div>
